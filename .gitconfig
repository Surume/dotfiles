#
# .gitconfig
#
[core]
  excludesfile = ~/.gitignore
  attributesfile = ~/.gitattributes
  editor = vim
    # Unicode
  precomposeunicode = true
  quotepath = true
[push]
    # simple,matching,upstream,current
  default = simple
[color]
  ui = auto
  status = auto
  diff = auto
  branch = auto
  interactive = auto
  grep = auto
[diff]
  patience = true
  log = diff-highlight | less
  show = diff-highlight | less
  diff = diff-highlight | less
[help]
  autocorrect = 0
[alias]
  co = checkout
  cm = commit
  ps = push
  ft = fetch
  br = branch
  brc = "!f () { git branch --merged|egrep -v '\\*|develop|master'|xargs git branch -d; };f"
  delete-merged-branch = "!f () { git checkout $1; git branch --merged|egrep -v '\\*|develop|master'|xargs git branch -d; };f"
  dif = diff
  ce = commit -v --amend
  st = status --branch --short
  si = status --ignored --short
	stpeco = "!f () { git st | grep -v '##' | awk '{print $2}' | peco; };f"
	vspec = "!f () { git st | grep 'spec' | awk '{print $2}' | peco | xargs vagrant ssh -- rspec; };f"
	strubocop = "!f () { git stpeco | xargs rubocop -a; };f"
  branches = branch -a
  remotes = remote -v
  tags = tag -l
  lg = log --graph --all --decorate --abbrev-commit --branches --date=short --pretty=format:\"%C(red)%h%C(reset) %C(green)[%ad]%C(reset) %s %C(cyan)@%an%C(reset) %C(yellow)%d%C(reset)\"
  fp = fetch --prune
  dh = diff --histogram
  dw = diff --word-diff
  dc = diff --cached
  wc = whatchanged
  tree = log --graph --pretty='format:%C(yellow)%h%Creset %s %Cgreen(%an)%Creset %Cred%d%Creset'
  ignore = update-index --assume-unchanged
  unignore = update-index --no-assume-unchanged
  ignored = !git ls-files -v | grep "^[a-z]"
  addselect = "!f () { git st | sed -e \"/M  /d\" | awk '{print $2}' | sed -e '1d' | peco | xargs git add; };f"
	pr = "!hub browse -- compare/$(git symbolic-ref --short HEAD)'?'expand=1'&'body=%23%23%23%20%e8%83%8c%e6%99%af%0d%0a%0d%0a%23%23%23%20%e4%bd%95%e3%81%8c%e5%95%8f%e9%a1%8c%e3%81%8b%0d%0a%0d%0a%23%23%23%20%e5%a4%89%e6%9b%b4%e5%86%85%e5%ae%b9%e3%81%be%e3%81%9f%e3%81%af%20TODO%0d%0a%0d%0a%23%23%23%20%e5%8b%95%e4%bd%9c%e7%a2%ba%e8%aa%8d%e6%96%b9%e6%b3%95%0d%0a%0d%0a%23%23%23%20%e3%83%9e%e3%83%bc%e3%82%b8%e6%9d%a1%e4%bb%b6%0d%0a"
[filter "lfs"]
  clean = git lfs clean %f
  smudge = git lfs smudge %f
  required = true
[ghq]
  root = ~/src
[commit]
	template = ~/.git_commit_msg.txt
[include]
  path = ~/.gitconfig_local
[merge "mergepbx"]
	name = Xcode project files merger
	driver = mergepbx %O %A %B
